# Pilem_Server

## Authors

- **Yudha Arief Wijaya** - _Dev_ - [Github](https://github.com/yudhaaw96)

## Client URL :

https://client-pilem-yudhaaw96.firebaseapp.com/ (status : active)

## Server URL :

https://server-pilem-yudhaaw96.herokuapp.com/ (status : active)

## SIGNUP USER

Create a new User

- ### URL

  /signup

- ### Method

  POST

- ### URL Params

  none

- ### Header Params

  none

- ### Data Params

  name = [string],<br>
  email = [string],<br>
  password = [string]

- ### Success Response

  - #### Code: 201
  - #### Content:

  ```
    {
        "CreatedUser": {
            "id": 17,
            "name": "yudhaAA",
            "email": "yudhaAA@mail.com",
            "password": "$2a$10$XRMmv00prsDtMiTuL59yyOzpWqzWZ.oZQ8ViCSsT4W3jtGnFAdXyK",
            "updatedAt": "2020-05-10T09:13:34.929Z",
            "createdAt": "2020-05-10T09:13:34.929Z"
        }
    }
  ```

- ### Error Response:

  - #### Code: 400
    Bad Request
  - #### Content:

  ```
    {
        "code": 400,
        "type": "BAD REQUEST",
        "message": [
            {
                "message": "Please insert your name"
            },
            {
                "message": "Character minimum is 2, and maximum 20"
            },
            {
                "message": "Please insert your email"
            },
            {
                "message": "Please insert correct email format"
            },
            {
                "message": "Please insert your password"
            },
            {
                "message": "Minimum password length is 3, maxiumum 15"
            }
        ]
    }
  ```

  - #### Code: 400
    Bad Request
  - #### Content:

  ```
    {
        "code": 400,
        "type": "BAD REQUEST",
        "errors": "Email address already in use!"
    }
  ```

## SIGNIN USER

Login as a User and generate Access Token that generated by jsonwebtoken

- ### URL

  /signin

- ### Method

  POST

- ### URL Params

  none

- ### Header Params

  none

- ### Data Params

  email = [string],<br>
  password = [string]

- ### Success Response

  - #### Code: 200
  - #### Content:

  ```
    {
        "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwiZW1haWwiOiJ0ZXN0QHRlc3QudGVzdCIsImlhdCI6MTU4OTEwMjA2N30.5RTLCFljCB07QpV4lxbRhhwFsujlzxxEhtgQNk5xo2Y"
    }
  ```

- ### Error Response:

  - #### Code: 400
    Bad Request
  - #### Content:

  ```
    {
        "code": 400,
        "type": "BAD REQUEST",
        "errors": "Opps!, invalid email / password"
    }
  ```

## GET NOW PLAYING MOVIES

Show all now playing movies on theaters

- ### URL

  /movies/nowplaying

- ### Method

  GET

- ### URL Params

  none

- ### Header Params

  - #### Headers:
    access_token : [ Your Generated JSONWebToken (JWT) ]

- ### Data Params

  none

- ### Success Response

  - #### Code: 200

  - #### Content:

  ```
    {
        "NowPlayingMovies": [
            {
            "popularity": 179.924,
            "vote_count": 879,
            "video": false,
            "poster_path": "/33VdppGbeNxICrFUtW2WpGHvfYc.jpg",
            "id": 481848,
            "adult": false,
            "backdrop_path": "/9sXHqZTet3Zg5tgcc0hCDo8Tn35.jpg",
            "original_language": "en",
            "original_title": "The Call of the Wild",
            "genre_ids": [
                12,
                18,
                10751
            ],
            "title": "The Call of the Wild",
            "vote_average": 7.3,
            "overview": "Buck is a big-hearted dog whose blissful domestic life is turned upside down when he is suddenly uprooted from his California home and transplanted to the exotic wilds of the Yukon during the Gold Rush of the 1890s. As the newest rookie on a mail delivery dog sled team—and later its leader—Buck experiences the adventure of a lifetime, ultimately finding his true place in the world and becoming his own master.",
            "release_date": "2020-02-19"
            },
            {
            "popularity": 192.035,
            "vote_count": 2124,
            "video": false,
            "poster_path": "/8WUVHemHFH2ZIP6NWkwlHWsyrEL.jpg",
            "id": 338762,
            "adult": false,
            "backdrop_path": "/ocUrMYbdjknu2TwzMHKT9PBBQRw.jpg",
            "original_language": "en",
            "original_title": "Bloodshot",
            "genre_ids": [
                28,
                878
            ],
            "title": "Bloodshot",
            "vote_average": 7.1,
            "overview": "After he and his wife are murdered, marine Ray Garrison is resurrected by a team of scientists. Enhanced with nanotechnology, he becomes a superhuman, biotech killing machine—'Bloodshot'. As Ray first trains with fellow super-soldiers, he cannot recall anything from his former life. But when his memories flood back and he remembers the man that killed both him and his wife, he breaks out of the facility to get revenge, only to discover that there's more to the conspiracy than he thought.",
            "release_date": "2020-03-05"
            }
        ]
    }
  ```

- ### Error Response:

  - #### Code: 401
    Bad Request
  - #### Content:

  ```
    {
        "code": 401,
        "type": "UNAUTHORIZED",
        "message": "Please signin first!"
    }
  ```

## GET POPULAR MOVIES

Show all popular movies

- ### URL

  /movies/popular

- ### Method

  GET

- ### URL Params

  none

- ### Header Params

  - #### Headers:
    access_token : [ Your Generated JSONWebToken (JWT) ]

- ### Data Params

  none

- ### Success Response

  - #### Code: 200

  - #### Content:

  ```
    {
        "PopularMovies": [
            {
            "popularity": 499.539,
            "vote_count": 3307,
            "video": false,
            "poster_path": "/xBHvZcjRiWyobQ9kxBhO6B2dtRI.jpg",
            "id": 419704,
            "adult": false,
            "backdrop_path": "/5BwqwxMEjeFtdknRV792Svo0K1v.jpg",
            "original_language": "en",
            "original_title": "Ad Astra",
            "genre_ids": [
                18,
                878
            ],
            "title": "Ad Astra",
            "vote_average": 6,
            "overview": "The near future, a time when both hope and hardships drive humanity to look to the stars and beyond. While a mysterious phenomenon menaces to destroy life on planet Earth, astronaut Roy McBride undertakes a mission across the immensity of space and its many perils to uncover the truth about a lost expedition that decades before boldly faced emptiness and silence in search of the unknown.",
            "release_date": "2019-09-17"
            },
            {
            "popularity": 224.218,
            "vote_count": 1675,
            "video": false,
            "poster_path": "/wlfDxbGEsW58vGhFljKkcR5IxDj.jpg",
            "id": 545609,
            "adult": false,
            "backdrop_path": "/1R6cvRtZgsYCkh8UFuWFN33xBP4.jpg",
            "original_language": "en",
            "original_title": "Extraction",
            "genre_ids": [
                28,
                18,
                53
            ],
            "title": "Extraction",
            "vote_average": 7.5,
            "overview": "Tyler Rake, a fearless mercenary who offers his services on the black market, embarks on a dangerous mission when he is hired to rescue the kidnapped son of a Mumbai crime lord…",
            "release_date": "2020-04-24"
            }
        ]
    }
  ```

- ### Error Response:

  - #### Code: 401
    Bad Request
  - #### Content:

  ```
    {
        "code": 401,
        "type": "UNAUTHORIZED",
        "message": "Please signin first!"
    }
  ```

## GET UPCOMING MOVIES

Show all upcoming movies

- ### URL

  /movies/upcoming

- ### Method

  GET

- ### URL Params

  none

- ### Header Params

  - #### Headers:
    access_token : [ Your Generated JSONWebToken (JWT) ]

- ### Data Params

  none

- ### Success Response

  - #### Code: 200

  - #### Content:

  ```
    {
        "UpcomingMovies": [
            {
            "popularity": 33.391,
            "vote_count": 37,
            "video": false,
            "poster_path": "/zaecdNcjcVDiOcDcgQCOgHELSo0.jpg",
            "id": 605804,
            "adult": false,
            "backdrop_path": "/A7xO8NpdS7fbBKGmh84HbSD21OJ.jpg",
            "original_language": "en",
            "original_title": "The Wretched",
            "genre_ids": [
                27
            ],
            "title": "The Wretched",
            "vote_average": 7.1,
            "overview": "A rebellious teenage boy embarks on a gutsy crusade to stop the terrifying evil he suspects has possessed his neighbor in this bone-chilling occult thriller.",
            "release_date": "2020-05-01"
            },
            {
            "popularity": 43.168,
            "vote_count": 236,
            "video": false,
            "poster_path": "/sm8iVzA7kRp0d4BSIsgXjsSBMKV.jpg",
            "id": 556678,
            "adult": false,
            "backdrop_path": "/5GbkL9DDRzq3A21nR7Gkv6cFGjq.jpg",
            "original_language": "en",
            "original_title": "Emma.",
            "genre_ids": [
                35,
                18,
                10749
            ],
            "title": "Emma.",
            "vote_average": 7.1,
            "overview": "In 1800s England, a well-meaning but selfish young woman meddles in the love lives of her friends.",
            "release_date": "2020-02-13"
            }
        ]
    }
  ```

- ### Error Response:

  - #### Code: 401
    Bad Request
  - #### Content:

  ```
    {
        "code": 401,
        "type": "UNAUTHORIZED",
        "message": "Please signin first!"
    }
  ```

## GET MOVIE DETAIL

Show movie detail by id

- ### URL

  /movies/:id

- ### Method

  GET

- ### URL Params

  id=[integer]

- ### Header Params

  - #### Headers:
    access_token : [ Your Generated JSONWebToken (JWT) ]

- ### Data Params

  none

- ### Success Response

  - #### Code: 200

  - #### Content:

  ```
    {
        "DetailMovie": {
            "adult": false,
            "backdrop_path": "/j2Ojh23iL4T5uNbEFwCikjXQXjF.jpg",
            "belongs_to_collection": {
            "id": 141290,
            "name": "The Lord of the Rings Animated Collection",
            "poster_path": "/pQuazFOlGRdn2Lb3oWFJYPeASOc.jpg",
            "backdrop_path": "/j2Ojh23iL4T5uNbEFwCikjXQXjF.jpg"
            },
            "budget": 4000000,
            "genres": [
            {
                "id": 12,
                "name": "Adventure"
            },
            {
                "id": 16,
                "name": "Animation"
            },
            {
                "id": 18,
                "name": "Drama"
            },
            {
                "id": 14,
                "name": "Fantasy"
            },
            {
                "id": 10751,
                "name": "Family"
            }
            ],
            "homepage": "",
            "id": 123,
            "imdb_id": "tt0077869",
            "original_language": "en",
            "original_title": "The Lord of the Rings",
            "overview": "The Fellowship of the Ring embark on a journey to destroy the One Ring and end Sauron's reign over Middle-earth.",
            "popularity": 10.176,
            "poster_path": "/liW0mjvTyLs7UCumaHhx3PpU4VT.jpg",
            "production_companies": [
            {
                "id": 60,
                "logo_path": "/oJXpAs4I3W46e4dkaOEzCa4yBko.png",
                "name": "United Artists",
                "origin_country": "US"
            },
            {
                "id": 286,
                "logo_path": null,
                "name": "Fantasy Films",
                "origin_country": ""
            }
            ],
            "production_countries": [
            {
                "iso_3166_1": "US",
                "name": "United States of America"
            }
            ],
            "release_date": "1978-11-15",
            "revenue": 30471420,
            "runtime": 132,
            "spoken_languages": [
            {
                "iso_639_1": "en",
                "name": "English"
            }
            ],
            "status": "Released",
            "tagline": "Fantasy...beyond your imagination",
            "title": "The Lord of the Rings",
            "video": false,
            "vote_average": 6.5,
            "vote_count": 430
        }
    }
  ```

- ### Error Response:

  - #### Code: 401
    Bad Request
  - #### Content:

  ```
    {
        "code": 401,
        "type": "UNAUTHORIZED",
        "message": "Please signin first!"
    }
  ```

  - #### Code: 500
    Internal Server Error
  - #### Content:

  ```
    {
        "code": 500,
        "type": "INTERNAL SERVER ERROR",
        "message": "Request failed with status code 404"
    }
  ```
